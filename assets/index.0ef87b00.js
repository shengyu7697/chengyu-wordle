var Ke=Object.defineProperty,je=Object.defineProperties;var We=Object.getOwnPropertyDescriptors;var Ce=Object.getOwnPropertySymbols;var Ue=Object.prototype.hasOwnProperty,qe=Object.prototype.propertyIsEnumerable;var Ie=(n,o,a)=>o in n?Ke(n,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):n[o]=a,re=(n,o)=>{for(var a in o||(o={}))Ue.call(o,a)&&Ie(n,a,o[a]);if(Ce)for(var a of Ce(o))qe.call(o,a)&&Ie(n,a,o[a]);return n},ae=(n,o)=>je(n,We(o));import{j as Je,a as Xe,F as Ye,u as Q,l as x,y as D,d as j,s as Ve,b as Ze,A as Qe,T as _,t as De,c as et,e as tt,f as Se,i as le,B as nt,g as ot,S as it}from"./vendor.f38dc990.js";import{t as he}from"./pinyin.965d34aa.js";import{i as st}from"./all-idioms.95a2bc18.js";import{d as rt}from"./game-idioms.0599f33e.js";function Ht(){import("data:text/javascript,")}const at=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))p(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const v of l.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&p(v)}).observe(document,{childList:!0,subtree:!0});function a(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerpolicy&&(l.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?l.credentials="include":s.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function p(s){if(s.ep)return;s.ep=!0;const l=a(s);fetch(s.href,l)}};at();const lt=(n,o)=>{const a=typeof o=="string"?o.split(""):o,p=typeof n=="string"?n.split(""):n,s=a.length,l=Array.from({length:s},()=>"\u2B1C");if(s!==p.length)throw new Error("idioms must have the same length");const v=[];for(let y=0;y<s;y++){const m=a[y],b=p[y];m===b&&(l[y]="\u{1F7E9}",v.push(y))}const g=[];for(let y=0;y<s;y++){const m=a[y],b=p[y];if(m!==b){const k=p.findIndex((C,W)=>C===m&&!v.includes(W)&&!g.includes(W));k!==-1&&(l[y]="\u{1F7E7}",g.push(k))}}return l},e=Je,r=Xe,B=Ye,z=he,V=n=>De(n),Z=(n,o=()=>{})=>{navigator.clipboard&&navigator.clipboard.writeText?navigator.clipboard.writeText(n).then(o).catch(a=>{}):(tt(n),o())},F={getItem:n=>{try{return localStorage.getItem(n)}catch{return null}},setItem:(n,o)=>{try{return localStorage.setItem(n,o)}catch{return null}},removeItem:n=>{try{return localStorage.removeItem(n)}catch{return null}}},N=(...n)=>{window.plausible&&plausible(...n)},$e=st.split(`
`),$=rt.slice(1).map(n=>({id:n[0],idiom:n[1]})),I="cywd-",A=JSON.parse(F.getItem(`${I}hardMode`)||!1),Me=7e3,ue=4,q=A?40:20,ct=6,ce=A?10:6;A&&N("Hard mode");window.clearGames=()=>{for(let n=0;n<localStorage.length;n++){const o=localStorage.key(n);o.startsWith(I)&&localStorage.removeItem(o)}};window.allGames=()=>{const n=new Map;for(let o=0;o<localStorage.length;o++){const a=localStorage.key(o);if(a.startsWith(I)){const p=JSON.parse(localStorage.getItem(a));n.set(a.replace(I,""),p)}}return n};const Le=n=>{if(n.some(s=>!!s.length&&s.every(l=>l==="\u{1F7E9}")))return"won";const a=n[n.length-1];return!!a.length&&a.every(s=>s!=="\u{1F7E9}")?"lost":null},Ee=()=>Array.from({length:ct},()=>({v:Array.from({length:ue},()=>""),s:!1})),me=(n,o,a,p=0)=>{var y;let s=o||new Set;s.add(n);let l=a||new Set;const v=n.split("");v.forEach(m=>l.add(m));let g=0;e:for(let m=0;m<$.length;m++){const b=v[(m+1)%ue],k=$.find(({idiom:C})=>!s.has(C)&&C.includes(b));if(k){for(let C=0;C<k.idiom.length;C++)if(l.add(k.idiom[C]),l.size>=q)break e;s.add(k.idiom),g=0}else{if(g>=ue+1)break e;g+=1}}if(l.size<q||s.size<ce){const m=[...s][++p];if(m){const{passedIdioms:b,keys:k}=me(m,s,l,p);s=b,l=k}}if(l.size<q||s.size<ce){const m=$[Math.floor(Math.random()*$.length)].idiom;if(m){const{passedIdioms:b,keys:k}=me(m,s,l,0);s=b,l=k}}if(l.size<q||s.size<ce){const m=(y=$.find(b=>b.idiom===n))==null?void 0:y.id;console.error(m,{possibleIdioms:s.size,keySize:l.size,consecutiveFailures:g})}return{passedIdioms:s,keys:l}},J=n=>r("svg",ae(re({viewBox:"0 0 20 20",fill:"currentColor"},n),{children:[e("title",{children:"\u25B6\uFE0F"}),e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z","clip-rule":"evenodd"})]})),de=n=>r("svg",ae(re({viewBox:"0 0 24 24"},n),{children:[e("title",{children:"\u2716\uFE0F"}),e("path",{fill:"currentColor",d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})]})),Pe=new Date(2022,0,27),X=()=>{const o=new Date().setHours(0,0,0,0)-Pe,a=Math.floor(o/(1e3*60*60*24));return $[Math.max(0,a%$.length)]},dt=()=>{const{t:n}=Q();let o=new Date().setHours(0,0,0,0)+24*60*60*1e3;const a=new Date(+Pe+24*60*60*1e3);o<a&&(o=a);const[p,s]=x("00"),[l,v]=x("00"),[g,y]=x("00"),[m,b]=x(!1);return D(()=>{const k=setInterval(()=>{const C=o-new Date;if(C<=0){b(!0),clearInterval(k);return}s(Math.floor(C/36e5).toString().padStart(2,"0")),v(Math.floor(C/6e4%60).toString().padStart(2,"0")),y(Math.floor(C/1e3%60).toString().padStart(2,"0"))},1e3);return()=>clearInterval(k)},[]),m?e("a",{href:"./",children:n("ui.countdownNow")}):r("time",{class:"countdown",children:[p,":",l,":",g]})},Fe=({code:n,url:o})=>{const{t:a}=Q();return n&&e("input",{readOnly:!0,value:n,class:"idiom-code",onClick:p=>{p.target.focus(),p.target.select(),Z(o||n,()=>{V(a("ui.copiedURL"))})}})},Y=({letter:n,pinyin:o,state:a})=>e("div",{class:`letter ${n?"lettered":""} ${a!=null?a:""} ${a?"\u{1F308}":""}`,children:r("ruby",{children:[n||e("span",{style:{opacity:0},children:"\u4E00"}),e("rp",{children:"("}),e("rt",{children:o||z(n)||e(B,{children:"\xA0"})}),e("rp",{children:")"})]})});let ze;const ht=()=>{const n=["#008000","#FFA500"];(function o(){Se({particleCount:2,angle:60,spread:80,origin:{x:0,y:1},colors:n,shapes:["square"],disableForReducedMotion:!0}),Se({particleCount:2,angle:120,spread:80,origin:{x:1,y:1},colors:n,shapes:["square"],disableForReducedMotion:!0}),ze=requestAnimationFrame(o)})()},ut=()=>{cancelAnimationFrame(ze)},mt=()=>{const{t:n}=Q();let o=0,a=0;const p=$.map(s=>{const l=JSON.parse(F.getItem(`${I}${s.id}`));if(l&&l.gameState){const{board:v,gameState:g}=l;return g==="won"?o++:g==="lost"&&a++,e("a",{href:`/#${s.id}`,class:`board ${g}`,title:`${s.id} (${g})`,children:g==="won"?"\u{1F7E9}":"\u{1F7E7}"})}else return e("a",{href:`/#${s.id}`,class:"board",title:`${s.id}`,children:"\u2B1C"})});return D(()=>(ht(),ut),[]),r(B,{children:[e("h2",{children:n("dashboard.heading",{gamesCount:Me})}),e("p",{children:n("dashboard.subheading")}),r("p",{children:[e(_,{i18nKey:"dashboard.totalGamesPlayed",values:{gamesCountOverTotal:`${o+a} / ${$.length}`},components:[e("b",{})]}),e("br",{}),e(_,{i18nKey:"dashboard.wonLost",values:{wonCount:o,lostCount:a},components:[e("b",{}),e("b",{})]})]}),e("div",{class:"boards",children:p})]})},xe="matchMedia"in window&&window.matchMedia("(prefers-color-scheme: dark)").media!=="not all";function pt(){var ve;const{t:n,i18n:o}=Q(),[a,p]=x(!1),[s,l]=x(!1),[v,g]=x(!1),[y,m]=x(!1),[b,k]=x(F.getItem(`${I}colorScheme`)||"auto");D(()=>{if(!xe)return;const t=document.querySelector("html");b==="dark"?(t.classList.add("dark-mode"),t.classList.remove("light-mode")):b==="light"?(t.classList.add("light-mode"),t.classList.remove("dark-mode")):t.classList.remove("dark-mode","light-mode")},[b]);const[C,W]=x(F.getItem(`${I}skipFirstTime`)||!1),[u,Te]=x($.find(t=>t.id===location.hash.slice(1))||X());D(()=>{window.addEventListener("hashchange",()=>{Te($.find(t=>t.id===location.hash.slice(1))||X()),p(!1)})},[]);const[S,O]=x(((ve=JSON.parse(F.getItem(`${I}${u.id}`)))==null?void 0:ve.board)||Ee());D(()=>{const t=F.getItem(`${I}${u.id}`);O(t?JSON.parse(t).board:Ee())},[u.id]);const G=j(()=>S.map((t,i)=>t.s?lt(u.idiom,t.v):[]),[S]);D(()=>{S&&S.some(t=>t.v.some(i=>i))&&F.setItem(`${I}${u.id}`,JSON.stringify({board:S,gameState:Le(G)}))},[G]);const[f,pe]=x(null);D(()=>{pe(null),fetch(`https://baidu-hanyu-idiom.cheeaun.workers.dev/?wd=${u.idiom}`).then(t=>t.json()).then(t=>{t.definition&&pe(t.definition)}).catch(()=>{})},[u.idiom]);const M=(S==null?void 0:S.findIndex(t=>t.s===!1))||0,[ee,K]=j(()=>{const{keys:t}=me(u.idiom),i=$e.filter(d=>d.split("").every(E=>t.has(E))),c=new Map;i.forEach(d=>{he(d,{type:"array"}).forEach((P,H)=>{c.has(d[H])?c.get(d[H]).add(P):c.set(d[H],new Set([P]))})});const h=i.map(d=>`${d} (${z(d)})`).sort((d,E)=>d.localeCompare(E,"zh"));return console.groupCollapsed&&(console.groupCollapsed(`${h.length} Possible Idioms [${u.id}] (${t.size} keys):`),console.log(`${h.map((d,E)=>`${E+1}. ${d}`).join(`
`)}

\u{1F6A8}SPOILER\u{1F6A8} Type 'ANSWER' to see the answer.`),console.groupEnd()),window.ANSWER=`${u.idiom} (${z(u.idiom)})`,[[...t].sort((d,E)=>d.localeCompare(E,"zh")),c]},[u.idiom]),te=(t,i=!1)=>{if(!S[M]||L)return;const c=[...S];let h=c[M].v.findIndex(w=>w==="");i&&(h===-1?h=3:h--),h!==-1&&(c[M].v[h]=t,O(c))},ne=new Set,oe=new Set,ie=new Set;S.forEach((t,i)=>{!t.s||t.v.forEach((c,h)=>{const w=G[i][h];w==="\u{1F7E9}"?ne.add(c):w==="\u{1F7E7}"?oe.add(c):w==="\u2B1C"&&ie.add(c)})});const ge=()=>{if(L)return;console.log("handleEnter"),l(!1);const t=S[M];if(!t)return;const i=t.v.join(""),c=$e.includes(i);c?(t.s=!0,O([...S])):setTimeout(()=>{l(!0)},10),console.log({currentIdiom:i,valid:c})},L=j(()=>Le(G),[G]);D(()=>{if(L==="won"){g("won");let t=M+"/6";gtag("event","gameState",{event_category:t,event_label:"won"})}else if(L==="lost"){g("lost");let t=M+"/6";gtag("event","gameState",{event_category:t,event_label:"lost"})}else g(!1)},[L]);const fe=()=>{if(L)return;const t=[...S],i=t[M];if(!i||i.s)return;let c=-1;for(let h=i.v.length-1;h>=0;h--)if(i.v[h]!==""){c=h;break}c!==-1&&(i.v[c]="",O(t))};D(()=>{const t=i=>{if(L||i.metaKey||i.ctrlKey||!i.key)return;const c=i.key.toLowerCase();if(c==="enter")i.preventDefault(),i.stopPropagation(),ge();else if(c==="backspace")i.preventDefault(),fe();else if(/^arrow(left|right)/i.test(c)){const w=[...S[M].v].reverse().find(d=>d!=="");if(w){const d=z(w)[0],E=new Set;K.forEach((He,Ne)=>{He.forEach(Oe=>{Oe[0].localeCompare(d,"en",{sensitivity:"base"})===0&&E.add(Ne)})});const P=[...E];if(P.length<=1)return;const H=P.indexOf(w),ke=c==="arrowright"?P[(H+1)%P.length]:P[(H+P.length-1)%P.length];ke&&te(ke,!0)}}else if(/[a-z]/i.test(c)){let h=!1;K.forEach((w,d)=>{h||w.forEach(E=>{if(h)return;E[0].localeCompare(c,"en",{sensitivity:"base"})===0&&(i.preventDefault(),h=!0,te(d))})})}};return document.addEventListener("keydown",t),()=>{document.removeEventListener("keydown",t)}},[ee,K,S,M,L]);const se=location.origin+location.pathname+"#"+u.id,Ae=location.host+location.pathname+"#"+u.id,ye=G.map(t=>t.join("")).join(`
`).trim(),Ge=L==="won"?ye.split(`
`).length:"X",R=`${`${n("app.title")} [${u.id}]${A?" \u{1F525}":""} ${Ge}/6

${ye}`}

${Ae}`,be=j(()=>{const t=[],i=u.idiom.split(""),c=ee.filter(d=>!i.includes(d)&&!ie.has(d)).slice(0,-1).slice(0,3).map(d=>n("hints.absentLetter",{letter:d,pinyin:z(d)})).sort(()=>Math.random()-.5);t.push(...c),(f==null?void 0:f.zh)&&i.filter(d=>f.zh.includes(d)).length<=2&&t.push(`\u2139\uFE0F ${f.zh}`),(f==null?void 0:f.en)&&t.push(`\u2139\uFE0F ${f.en}`);const h=i.filter(d=>!ne.has(d)&&!oe.has(d)).slice(0,-1).map(d=>n("hints.presentLetter",{letter:d,pinyin:z(d)})).sort(()=>Math.random()-.5);t.push(...h);const w=i.map(d=>z(d)[0]).join("").normalize("NFD").replace(/[\u0300-\u036f]/g,"");return t.push(n("hints.abbreviatedPinyin",{pinyinHint:w})),t},[u.idiom,f]),U=Ve(0);D(()=>{U.current=0},[u.idiom]);const _e=()=>{if(L)return;const t=be[U.current];U.current=(U.current+1)%be.length,V(t)},{toasts:we}=Ze(),Be=1;D(()=>{we.filter((t,i)=>t.visible&&i>=Be).forEach(t=>De.dismiss(t.id))},[we]);const T=j(()=>{if(!!y)try{return Object.keys(localStorage).filter(i=>{const c=i.startsWith(I);if(!c)return!1;const h=i.slice(I.length);return c&&$.find(w=>w.id===h)}).length}catch{}},[y]);D(()=>{if(!T||T<10)return;const t=T<100?1:2,i=+T.toPrecision(t);N("Games Played",{props:{count:i}})},[T]);const Re=Qe(()=>r("b",{children:[T,T>=Me&&r(B,{children:[" ","/"," ",e("a",{href:"#",onClick:t=>{t.preventDefault(),m(!1),p(!0)},children:$.length})]})]}),[T]);return r(B,{children:[e("header",{children:r("div",{class:"inner",children:[e("button",{type:"button",onClick:()=>{m(!0)},children:r("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e("title",{children:"\u2139\uFE0F"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]})}),e("h1",{children:n("app.title")}),e("button",{type:"button",onClick:()=>{g(L||"play")},children:L?n("common.play"):r("svg",{width:"16",height:"16",viewBox:"0 0 290 290",children:[e("title",{children:"..."}),e("path",{fill:"currentColor",d:"M255 110a35 35 0 1 0 0 70 35 35 0 0 0 0-70zM35 110a35 35 0 1 0 0 70 35 35 0 0 0 0-70zM145 110a35 35 0 1 0 0 70 35 35 0 0 0 0-70z"})]})})]})}),e("div",{id:"board",class:`${L} ${A?"hard-mode":""}`,children:S.map((t,i)=>{const c=he(t.v.join(""),{type:"array"});return e("div",{className:`row ${M===i&&s?"error":""} ${M===i?"current":""}`,children:t.v.map((h,w)=>e(Y,{letter:h,pinyin:c[w],state:G[i][w]},w))},i)})}),e("div",{id:"keyboard",class:`${L} ${A?"hard-mode":""}`,children:r("div",{class:"inner",children:[e("div",{class:"keys",children:ee.map((t,i)=>e("button",{class:`${ne.has(t)?"\u{1F7E9}":""} ${oe.has(t)?"\u{1F7E7}":""} ${ie.has(t)?"\u2B1C":""}`,type:"button",tabIndex:-1,onClick:()=>{te(t)},children:r("ruby",{children:[t,e("rp",{children:"("}),e("rt",{children:K.has(t)?[...K.get(t)].sort((c,h)=>c.localeCompare(h,"zh")).join(" \u2E31 "):z(t)}),e("rp",{children:")"})]})}))}),r("div",{class:"row",children:[e("button",{type:"button",onClick:ge,tabIndex:-1,children:n("common.enter")}),A?e("b",{class:"hard",children:n("ui.hardMode")}):e("button",{type:"button",class:"stuck",onClick:_e,children:n("ui.hint")}),e("button",{type:"button",onClick:fe,tabIndex:-1,children:e("svg",{height:"24",viewBox:"0 0 24 24",width:"24",children:e("path",{fill:"currentColor",d:"M22 3H7c-.69 0-1.23.35-1.59.88L0 12l5.41 8.11c.36.53.9.89 1.59.89h15c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H7.07L2.4 12l4.66-7H22v14zm-11.59-2L14 13.41 17.59 17 19 15.59 15.41 12 19 8.41 17.59 7 14 10.59 10.41 7 9 8.41 12.59 12 9 15.59z"})})})]})]})}),r("div",{id:"modal",class:v?"appear":"",onClick:t=>{t.target===t.currentTarget&&g(null)},children:[e(de,{height:"24",width:"24",class:"close",onClick:()=>{g(null)}}),r("div",{class:"content",children:[e("h2",{children:v==="won"?"\u{1F389}\u{1F389}\u{1F389}":v==="lost"?"\u{1F62D}\u{1F62D}\u{1F62D}":"\u{1F42F}\u{1F42F}\u{1F42F}"}),v==="play"&&r("p",{children:[n("ui.idiomId")," ",e(Fe,{code:u.id,url:se})]}),/(won|lost)/i.test(v)&&r(B,{children:[r("p",{children:[e("b",{class:"answer",children:r("ruby",{children:[u.idiom,e("rp",{children:"("}),e("rt",{children:z(u.idiom)}),e("rp",{children:")"})]})}),r("div",{class:"definition",children:[(f==null?void 0:f.zh)?f.zh.split("").map(t=>z(t)===t?t:r("ruby",{children:[t,e("rp",{children:"("}),e("rt",{children:z(t)}),e("rp",{children:")"})]})):"",(f==null?void 0:f.zh)&&(f==null?void 0:f.en)&&e("br",{}),f==null?void 0:f.en]}),r("small",{children:[r("a",{href:`https://hanyu.baidu.com/s?wd=${u.idiom}&from=zici`,target:"_blank",children:["\u{1F4D6} ",n("glossary.baidu")]}),"\xA0 \xA0",r("a",{href:`https://www.zdic.net/hans/${u.idiom}`,target:"_blank",children:["\u{1F4D6} ",n("glossary.zdic")]})]})]}),e("div",{class:"results",children:R}),r("button",{id:"share",onClick:async()=>{try{if(/edge?\//i.test(navigator.userAgent)||/windows/.test(navigator.userAgent))throw new Error("Web Share API not working well here");Z(R),await navigator.share({text:R})}catch{Z(R,()=>{V(n("ui.copiedResults"))})}},children:[n("common.share")," ",e("svg",{height:"16",width:"16",viewBox:"0 0 24 24",children:e("path",{fill:"currentColor",d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92c0-1.61-1.31-2.92-2.92-2.92zM18 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM6 13c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm12 7.02c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1z"})})]}),"\xA0",e("a",{class:"button facebook",href:`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(se)}&hashtag=${encodeURIComponent("#chengyuwordle")}`,target:"_blank",onClick:()=>{Z(R)},children:r("svg",{width:"16",height:"16",viewBox:"0 0 96.1 96.1",children:[e("title",{children:"Facebook"}),e("path",{fill:"currentColor",d:"M72 0H59.7c-14 0-23 9.3-23 23.7v10.9H24c-1 0-2 .8-2 2v15.7c0 1.1 1 2 2 2h12.6v39.9c0 1 .8 2 2 2h16.3c1 0 2-1 2-2v-40h14.6c1 0 2-.8 2-1.9V36.5a2 2 0 0 0-2-2H56.8v-9.2c0-4.4 1.1-6.7 6.9-6.7H72c1 0 2-.9 2-2V2c0-1.1-1-2-2-2z"})]})}),"\xA0",e("a",{class:"button tweet",href:`https://twitter.com/intent/tweet?text=${encodeURIComponent(R)}`,target:"_blank",children:r("svg",{height:"16",width:"16",viewBox:"0 0 24 24",children:[e("title",{children:n("common.tweet")}),e("path",{fill:"currentColor",d:"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"})]})}),"\xA0",e(Fe,{code:u.id,url:se})]}),r("div",{class:"footer",children:[/won|lost/i.test(L)&&X().id===u.id&&e("p",{children:e("big",{children:e(_,{i18nKey:"ui.nextIdiom",components:[e(dt,{})]})})}),r("div",{children:[X().id!==u.id&&r(B,{children:[r("a",{href:"./",class:"button strong",children:[e(J,{width:20,height:20})," ",n("ui.playTodayGame")]}),e("br",{})]}),r("button",{type:"button",onClick:()=>{if(N("Click: Random"),confirm(n("ui.confirmRandom"))){const i=Math.round(Math.random()*($.length-1)),c=$[i];location.hash=`#${c.id}`,g(null),N("Game load: Random")}},children:[e(J,{width:20,height:20})," ",n("common.random")]})," ",r("button",{type:"button",onClick:()=>{N("Click: Idiom ID");let t=prompt(n("ui.promptIdiom"));try{t=new URL(t).hash.slice(1)}catch{}if(t){const i=$.find(c=>c.id===t);i?(location.hash=`#${i.id}`,g(null),N("Game load: Idiom ID")):V("Invalid idiom ID")}},children:[e(J,{width:20,height:20})," ",n("common.choose")]})]})]})]})]}),r("div",{id:"info-modal",class:y||!C?"appear":"",children:[C&&e(de,{height:"32",width:"32",class:"close",onClick:()=>{m(!1)}}),r("div",{class:"content",children:[xe&&r("p",{class:"color-scheme-selector",children:[e("button",{type:"button",class:b==="dark"?"active":"",onClick:()=>{F.setItem(`${I}colorScheme`,"dark"),k("dark")},children:"\u{1F311}"})," ",e("button",{type:"button",class:b==="auto"?"active":"",onClick:()=>{F.removeItem(`${I}colorScheme`),k("auto")},children:"\u{1F313}"})," ",e("button",{type:"button",class:b==="light"?"active":"",onClick:()=>{F.setItem(`${I}colorScheme`,"light"),k("light")},children:"\u{1F315}"})]})," ",r("p",{class:"locale-selector",children:["\u{1F310}"," ",e("a",{href:"./?lng=en",hreflang:"en",rel:o.resolvedLanguage==="en"?void 0:"alternate",class:`${o.resolvedLanguage==="en"?"selected":""}`,onClick:t=>{t.preventDefault(),o.changeLanguage("en")},children:"English"})," ","\u22C5"," ",e("a",{href:"./?lng=zh-CN",hreflang:"zh-CN",rel:o.resolvedLanguage==="zh"?void 0:"alternate",class:`${o.resolvedLanguage==="zh"?"selected":""}`,onClick:t=>{t.preventDefault(),o.changeLanguage("zh-CN")},children:"\u4E2D\u6587"})]}),C&&T>0&&r("div",{id:"stats",children:[e("p",{children:e(_,{i18nKey:"ui.gamesPlayed",components:[e(Re,{})]})}),e("div",{id:"config",children:e("p",{children:r("label",{children:[e("input",{type:"checkbox",checked:A,onInput:t=>{const{checked:i}=t.target;F.setItem(`${I}hardMode`,i?"true":"false"),location.reload()}})," ",n("ui.hardMode")]})})})]}),e("h2",{children:n("howToPlay.heading")}),e("p",{children:n("howToPlay.how1")}),e("p",{children:n("howToPlay.how2")}),e("p",{children:n("howToPlay.how3")}),e("div",{class:"example-idiom",children:"\u4E5D\u725B\u4E00\u6BDB".split("").map((t,i)=>e(Y,{letter:t,state:i===0?"\u{1F7E9}":""},t))}),e("p",{children:n("howToPlay.spotCorrect")}),e("div",{class:"example-idiom",children:"\u7406\u6240\u7576\u7136".split("").map((t,i)=>e(Y,{letter:t,state:i===1?"\u{1F7E7}":""},t))}),e("p",{children:n("howToPlay.spotPresent")}),e("div",{class:"example-idiom",children:"\u611B\u4E0D\u91CB\u624B".split("").map((t,i)=>e(Y,{letter:t,state:i===2?"\u2B1C":""},t))}),e("p",{children:n("howToPlay.spotAbsent")}),e("p",{children:n("howToPlay.how4")}),C?r(B,{children:[e("h2",{children:n("about.heading")}),e("p",{children:e(_,{i18nKey:"about.about1",components:[e("a",{href:"https://github.com/cheeaun/chengyu-wordle/",target:"_blank"}),e("a",{href:"https://cheeaun.com/projects/",target:"_blank"}),e("a",{href:"https://www.powerlanguage.co.uk/wordle/",target:"_blank"}),e("a",{href:"https://powerlanguage.co.uk/",target:"_blank"}),e("a",{href:"https://github.com/shengyu7697/",target:"_blank"})]})}),e("h2",{children:n("feedback.heading")}),r("ul",{children:[e("li",{children:e("a",{href:"https://t.me/+ykuhfiImLd1kNjk1",target:"_blank",children:n("feedback.telegramGroup")})}),e("li",{children:e(_,{i18nKey:"feedback.githubDiscussions",components:[e("a",{href:"https://github.com/cheeaun/chengyu-wordle/discussions",target:"_blank"})]})}),e("li",{children:e(_,{i18nKey:"feedback.githubIssues",components:[e("a",{href:"https://github.com/cheeaun/chengyu-wordle/issues",target:"_blank"})]})}),e("li",{children:e("a",{href:"https://twitter.com/cheeaun",target:"_blank",children:n("feedback.twitter")})}),e("li",{children:e("a",{href:"https://t.me/cheeaun",target:"_blank",children:n("feedback.telegram")})})]}),r("details",{id:"debugging-container",children:[r("summary",{children:[n("debugging.heading")," (","c2192a4",")"]}),e("button",{type:"button",onClick:()=>{confirm(n("debugging.confirmResetGame"))&&(F.removeItem(I+u.id),location.reload())},children:n("debugging.resetGame")}),"\xA0",e("button",{type:"button",onClick:()=>{confirm(n("debugging.confirmClearDB"))&&(clearGames(),location.reload())},children:n("debugging.clearDB")})]})]}):e("p",{children:r("button",{type:"button",class:"large",onClick:()=>{m(!1),F.setItem(I+"skipFirstTime",1),W(!0)},children:[e(J,{width:"20",height:"20"})," ",n("ui.startPlay")]})})]})]}),a&&r("div",{id:"dashboard-modal",children:[e(de,{height:"24",width:"24",class:"close",onClick:()=>{p(!1)}}),e(mt,{})]}),e(et,{containerStyle:{top:"3.5em"},toastOptions:{className:"toast",style:{pointerEvents:"none"}}})]})}const gt={about1:"<0>Built</0> by <1>Chee Aun</1>. Improved by <4>ShengYu</4>. <2>Wordle</2> \xA9 <3>Josh Wardle</3>.",heading:"About"},ft={description:"Wordle, for Chinese idioms - \u6210\u8BED (ch\xE9ngy\u01D4). Guess the idiom in 6 tries.",title:"Chengyu Wordle"},yt={choose:"Choose",enter:"Enter",play:"Play",random:"Random",share:"Share",tweet:"Tweet"},bt={heading:"Congratulations, you've made it! {{gamesCount}}+ games!",subheading:"Here you have access to ALL idiom games, including the ones you might have not played. Click on the box to play a specific idiom game.",totalGamesPlayed:"Total games played: <0>{{gamesCountOverTotal}}</0>",wonLost:"\u{1F7E9} Won: <0>{{wonCount}}</0> \xB7 \u{1F7E7} Lost: <1>{{lostCount}}</1>"},wt={clearDB:"Clear database",confirmClearDB:"Are you sure?",confirmResetGame:"Are you sure?",heading:"Debugging",resetGame:"Reset current idiom game"},vt={githubDiscussions:"<0>GitHub Discussions</0> (for developers)",githubIssues:"<0>GitHub Issues</0> (for bugs)",heading:"Feedback",telegram:"@cheeaun on Telegram",telegramGroup:"Telegram Group",twitter:"@cheeaun on Twitter"},kt={baidu:"Baidu",zdic:"ZDIC"},Ct={abbreviatedPinyin:"\u2728 Abbreviated pinyin: {{pinyinHint}}",absentLetter:"\u274C The letter {{letter}} ({{pinyin}}) is NOT in the idiom.",presentLetter:"\u2705 The letter {{letter}} ({{pinyin}}) is in the idiom."},It={heading:"How to play",how1:"Guess the idiom in 6 tries.",how2:"Each guess must be a valid 4-letter idiom. Hit the enter button to submit.",how3:"After each guess, the color of the tiles will change to show how close your guess was to the idiom.",how4:"A new idiom will be available every day.",spotAbsent:"Gray = not in any spot",spotCorrect:"Green = correct spot",spotPresent:"Yellow = wrong spot"},St={confirmRandom:"Are you sure you want to start a new random game?",copiedResults:"Copied results to clipboard",copiedURL:"Copied URL to clipboard",countdownNow:"Now!",gamesPlayed:"\u{1F4CA} Games played: <0/>",hardMode:"Hard mode \u{1F525}",hint:"I'm stuck",idiomId:"Idiom ID:",nextIdiom:"Next Idiom: <0/>",playTodayGame:"Play today's game!",promptIdiom:"Enter idiom ID/URL:",startPlay:"Let's play!"};var $t={about:gt,app:ft,common:yt,dashboard:bt,debugging:wt,feedback:vt,glossary:kt,hints:Ct,howToPlay:It,ui:St};const Lt={about1:"\u7531 <1>\u5FD7\u5B89</1> <0>\u5EFA\u9020</0>\u3002<4>ShengYu</4> \u6539\u826F\u3002 <2>Wordle</2> \xA9 <3>Josh Wardle</3>\u3002",heading:"\u95DC\u65BC"},Et={description:"Wordle\uFF0C\u7528\u65BC\u6F22\u8A9E\u6210\u8A9E\u2014\u2014\u6210\u8A9E\uFF08ch\xE9ngy\u01D4\uFF09\u3002\u5728 6 \u6B21\u5617\u8A66\u4E2D\u731C\u51FA\u6210\u8A9E\u3002",title:"\u6210\u8A9E Wordle"},Ft={choose:"\u9078\u64C7",enter:"Enter",play:"\u73A9",random:"\u96A8\u6A5F\u7684",share:"\u5206\u4EAB",tweet:"\u9CF4\u53EB"},xt={heading:"\u606D\u559C\u4F60\uFF0C\u4F60\u6210\u529F\u4E86\uFF01 {{gamesCount}}+\u904A\u6232\uFF01",subheading:"\u5728\u9019\u88E1\uFF0C\u60A8\u53EF\u4EE5\u8A2A\u554F\u6240\u6709\u6210\u8A9E\u904A\u6232\uFF0C\u5305\u62EC\u60A8\u53EF\u80FD\u6C92\u6709\u73A9\u904E\u7684\u904A\u6232\u3002 \u55AE\u64CA\u8A72\u6846\u4EE5\u73A9\u7279\u5B9A\u7684\u6210\u8A9E\u904A\u6232\u3002",totalGamesPlayed:"\u5DF2\u73A9\u904A\u6232\u7E3D\u6578\uFF1A<0>{{gamesCountOverTotal}}</0>",wonLost:"\u{1F7E9} \u7372\u52DD\uFF1A<0>{{wonCount}}</0> \u2027 \u{1F7E7} \u5931\u6557\uFF1A<1>{{lostCount}}</1>"},Dt={clearDB:"\u6E05\u9664\u8CC7\u6599\u5EAB",confirmClearDB:"\u4F60\u78BA\u5B9A\u55CE\uFF1F",confirmResetGame:"\u4F60\u78BA\u5B9A\u55CE\uFF1F",heading:"\u9664\u932F",resetGame:"\u91CD\u7F6E\u7576\u524D\u7684\u6210\u8A9E\u904A\u6232"},Mt={githubDiscussions:"<0>GitHub \u8A0E\u8AD6</0>\uFF08\u91DD\u5C0D\u958B\u767C\u8005\uFF09",githubIssues:"<0>GitHub \u554F\u984C</0>\uFF08\u91DD\u5C0D\u932F\u8AA4\uFF09",heading:"\u56DE\u994B",telegram:"\u96FB\u5831\u4E0A\u7684 @cheeaun",telegramGroup:"\u96FB\u5831\u7FA4",twitter:"\u63A8\u7279\u4E0A\u7684 @cheeaun"},Pt={baidu:"\u767E\u5EA6",zdic:"\u6F22\u5178"},zt={abbreviatedPinyin:"\u2728 \u7E2E\u5BEB\u62FC\u97F3\uFF1A{{pinyinHint}}",absentLetter:"\u274C \u6210\u8A9E\u4E2D\u6C92\u6709\u5B57\u6BCD {{letter}} ({{pinyin}})\u3002",presentLetter:"\u2705 \u5B57\u6BCD {{letter}} ({{pinyin}}) \u5728\u6210\u8A9E\u4E2D\u3002"},Tt={heading:"\u600E\u9EBC\u73A9",how1:"\u5728 6 \u6B21\u5617\u8A66\u4E2D\u731C\u51FA\u6210\u8A9E\u3002",how2:"\u6BCF\u500B\u731C\u6E2C\u90FD\u5FC5\u9808\u662F\u6709\u6548\u7684 4 \u5B57\u8A5E\u8A9E\u3002\u9EDE\u64CA Enter \u6309\u9215\u9001\u51FA\u3002",how3:"\u6BCF\u6B21\u731C\u6E2C\u5F8C\uFF0C\u5716\u584A\u7684\u984F\u8272\u6703\u767C\u751F\u8B8A\u5316\uFF0C\u4EE5\u986F\u793A\u60A8\u7684\u731C\u6E2C\u8207\u6210\u8A9E\u7684\u63A5\u8FD1\u7A0B\u5EA6\u3002",how4:"\u6BCF\u5929\u90FD\u6703\u6709\u4E00\u500B\u65B0\u7684\u6210\u8A9E\u51FA\u73FE\u3002",spotAbsent:"\u7070\u8272 = \u4E0D\u5728\u4EFB\u4F55\u5730\u65B9",spotCorrect:"\u7DA0\u8272 = \u6B63\u78BA\u4F4D\u7F6E",spotPresent:"\u9EC3\u8272 = \u932F\u8AA4\u7684\u4F4D\u7F6E"},At={confirmRandom:"\u60A8\u78BA\u5B9A\u8981\u958B\u59CB\u65B0\u7684\u96A8\u6A5F\u904A\u6232\u55CE\uFF1F",copiedResults:"\u5C07\u7D50\u679C\u8907\u88FD\u5230\u526A\u8CBC\u526A\u8CBC\u7C3F",copiedURL:"\u5C07 URL \u8907\u88FD\u5230\u526A\u8CBC\u7C3F",countdownNow:"\u73FE\u5728\uFF01",gamesPlayed:"\u{1F4CA} \u73A9\u904E\u7684\u904A\u6232\uFF1A<0/>",hardMode:"\u56F0\u96E3\u6A21\u5F0F \u{1F525}",hint:"\u4F86\u9EDE\u63D0\u793A",idiomId:"\u6210\u8A9EID:",nextIdiom:"\u4E0B\u4E00\u500B\u6210\u8A9E\uFF1A<0/>",playTodayGame:"\u73A9\u4ECA\u5929\u7684\u904A\u6232\uFF01",promptIdiom:"\u8F38\u5165\u6210\u8A9E ID/URL\uFF1A",startPlay:"\u8B93\u6211\u5011\u73A9\uFF01"};var Gt={about:Lt,app:Et,common:Ft,dashboard:xt,debugging:Dt,feedback:Mt,glossary:Pt,hints:zt,howToPlay:Tt,ui:At};le.use(nt).use(ot).init({resources:{en:{translation:$t},zh:{translation:Gt}},fallbackLng:"en",debug:/localhost/i.test(location.hostname),detection:{lookupLocalStorage:"locale",lookupCookie:"locale"},interpolation:{escapeValue:!1}}).then(n=>{const o=()=>{document.documentElement.lang=le.resolvedLanguage,document.title=document.querySelector('meta[property="og:title"]').content=n("app.title"),document.querySelector('meta[name="description"]').content=document.querySelector('meta[property="og:description"]').content=n("app.description")};le.on("languageChanged",o),o()});it(e(pt,{}),document.getElementById("app"));export{Ht as __vite_legacy_guard};
//# sourceMappingURL=index.0ef87b00.js.map
